## 介绍raft-go项目。如果新加入一个节点会发生什么
1. 首先先尝试成为候选人进行选举，如果当前节点是跟随者，并且没有领导，也没有为别人投票，就为自己投票，成为候选人，
2. 接着向其他节点广播，要求选票。连接成功则其他节点通过管道来进行投票。如果超时则重新设置为追随者。想要成为领导者必须获得一半节点的的投票，如果够一半则成为领导者并且向其他节点发送心跳广播。
3. 心跳广播一直是等待接收管道，所以是阻塞的，等到接收到成为领导者的管道通知后，则一直循环发送心跳包，同时更新最后一次发送心跳包的时间。通过现在减去最后一次发送心跳包的时间如果大于超时时间，则重新进行领导选举。
4. 如何日志复制：通过http协议监听客户端，如果客户端传来消息，则将该消息封装起来，然后连接领导节点，将该消息发送到领导节点（存入消息map中）。领导节点收到该消息后，向其他节点进行广播，
5. 回复领导节点收到消息（bool=true）每当有一个节点收到该消息后就计数++。当大部分节点（一半及以上）收到该消息，则认为raft验证通过，可以打印该消息了.（打印消息这里则是模拟了日志复制）

## map并发安全吗，如何解决

## sync.Map的实现原理

## slice扩容机制

## 输入一个网址到显示经历了什么
1. 解析URL:分析 URL 所需要使用的传输协议和请求的资源路径。如果输入的 URL 中的协议或者主机名不合法，将会把地址栏中输入的内容传递给搜索引擎。如果没有问题，浏览器会检査 URL 中是否出现了非法字符，则对非法字符进行转义后在进行下一过程。
2. 缓存判断:浏览器会判断所请求的资源是否在缓存里，如果请求的资源在缓存里且没有失效，那么就首接使用，否则向服务器发起新的请求。
3. DNS解析:如果资源不在本地缓存，首先需要进行DNS解析。浏览器会向本地DNS服务器发送域名解析请求，本地DNS服务器会逐级查询，最终找到对应的IP地址。
4. 获取MAC地址:当浏览器得到IP 地址后，数据传输还需要知道目的主机 MAC 地址，因为应用层下发数据给传输层，TCP协议会指定源端口号和目的端口号，然后下发给网络层。网络层会将本机地址作为源地址，获取的IP 地址作为目的地址。然后将下发给数据链路层，数据链路层的发送需要加入通信双方的 MAC 地址，本机的 MAC 地址作为源 MAC 地址，目的 MAC 地址需要分情况处理。通过将 IP 地址与本机的子网掩码相结合，可以判断是否与请求主机在同一个子网里，如果在同一个子网里，可以使用 APR 协议获取到目的主机的 MAC地址，如果不在一个子网里，那么请求应该转发给网关，由它代头转发，此时同样可以通过 ARP 协议来获取网关的 MAC 地址，此时目的主机的 MAC 地址应该为网关的地址。
5. 建立TCP连接:主机将使用目标 IP地址和目标MAC地址发送一个TCP SYN包，请求建立一个TCP连接然后交给路由器转发，等路由器转到目标服务器后，服务器回复一个SYN-ACK包，确认连接请求。然后，主机发送一个ACK包，确认已收到服务器的确认，然后 TCP连接建立完成。
6. HTTPS 的 TLS 四次握手:如果使用的是 HTTPS 协议，在通信前还存在 TLS 的四次握手。
7. 发送HTTP请求:连接建立后，浏览器会向服务器发送HTTP请求。请求中包含了用户需要获取的资源的信息，例如网页的URL、请求方法(GET、POST等)等。
8. 服务器处理请求并返回响应:服务器收到请求后，会根据请求的内容进行相应的处理。例如，如果是请求网页，服务器会读取相应的网页文件，并生成HTTP响应。

## https的加密过程
1. TLS 第一次握手
首先，由客户端向服务器发起加密通信请求，也就是 ClientHello 请求。在这一步，客户端主要向服务器发送以下信息:
- 客户端支持的 TLS 协议版本，如 TLS 1.2 版本。
- 客户端生产的随机数(Client Random)，后面用于生成「会话秘钥」条件之
- 客户端支持的密码套件列表，如 RSA 加密算法。

2. TLS 第二次握手
服务器收到客户端请求后，向客户端发出响应，也就是 SeverHello。服务器回应的内容有如下内容.
- 确认 TLS 协议版本，如果浏览器不支持，则关闭加密通信。
- 服务器生产的随机数(Server Random)也是后面用于生产「会话秘钥」条件之一
- 确认的密码套件列表，如 RSA 加密算法。
- 服务器的数字证书。

3. TLS 第三次握手
客户端收到服务器的回应之后，首先通过浏览器或者操作系统中的 CA 公钥，确认服务器的数字证书的真实性。
如果证书没有问题，客户端会从数字证书中取出服务器的公钥，然后使用它加密报文，向服务器发送如下信息:
- 一个随机数(pre-master key)。该随机数会被服务器公钥加密。
- 加密通信算法改变通知，表示随后的信息都将用「会话秘钥」加密通信。
- 客户端握手结束通知，表示客户端的握手阶段已经结束。这一项同时把之前所有内容的发生的数据做个摘要，用来供服务端校验。
上面第一项的随机数是整个握手阶段的第三个随机数，会发给服务端，所以这个随机数客户端和服务端都是一样的。
服务器和客户端有了这三个随机数(Client Random、Server Random、pre-master key)，接着就用双方协商的加密算法，各自生成本次通信的「会话秘钥」

4. TLS 第四次握手
服务器收到客户端的第三个随机数(pre-master key)之后，通过协商的加密算法，计算出本次通信的「会话秘钥」。
然后，向客户端发送最后的信息!
- 加密通信算法改变通知，表示随后的信息都将用「会话秘钥|加密通信。
- 服务器握手结束通知，表示服务器的握手阶段已经结束。这一项同时把之前所有内容的发生的数据做个摘要，用来供客户端校验。
至此，整个 TLS 的握手阶段全部结束。接下来，客户端与服务器进入加密通信，就完全是使用普通的HTTP 协议，只不过用「会话秘钥」加密内容。
## 客户端为什么相信CA证书
- 公钥基础设施（PKI）：HTTPS 使用公钥基础设施来建立安全通信。客户端信任 CA 的根证书（通常预装在操作系统或浏览器中），并通过该根证书验证其他证书。
- 信任链：当客户端接收到服务器的证书时，它会检查该证书是否由一个受信任的 CA 签发，并验证证书链（从服务器证书到根证书）。如果链中的每个证书都有效且可信，客户端就可以信任该服务器证书。

